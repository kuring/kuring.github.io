<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hexo on 404频道</title><link>/tags/hexo/</link><description>Recent content in Hexo on 404频道</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>kuring</copyright><lastBuildDate>Sun, 28 Dec 2025 00:00:00 +0000</lastBuildDate><atom:link href="/tags/hexo/index.xml" rel="self" type="application/rss+xml"/><item><title>使用 Cursor 完成 Hexo 到 Hugo 博客迁移实践</title><link>/post/hexo-to-hugo-migration-with-cursor/</link><pubDate>Sun, 28 Dec 2025 00:00:00 +0000</pubDate><guid>/post/hexo-to-hugo-migration-with-cursor/</guid><description>&lt;h2 id="背景"&gt;背景
&lt;/h2&gt;&lt;p&gt;我的个人博客从 2013 年开始搭建，一直在使用 Github Pages 来承载，先后使用过 jekyll、farbox、hexo 等来构建静态博客，折腾过不少次。&lt;/p&gt;
&lt;p&gt;本次我决定对博客做如下的改动：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;使用 hugo 来构建静态博客。hexo 来管理博客总有些麻烦，涉及到很多依赖包的版本管理问题。我之前曾经尝试迁移到 hugo 来管理博客，但发现有些复杂，得需要全面了解 hugo 才能保证兼容性，比如 hexo 和 hugo 中对于博客文章的 url 链接并不相同，如果博客文章之间有超链接的情况，就会导致死链的出现。AI 时代到来后，Cursor 是我一直在深度使用的编程工具，心血来潮决定使用 Cursor 来完成博客的迁移。在整体迁移的过程中，我并未对 hugo 系统有较深的了解，甚至官方的文档都没怎么阅读，仅靠跟 Cursor 的交互就完成了所有的需求。&lt;/li&gt;
&lt;li&gt;放弃域名 kuring.me。博客我一直写的不太多，也没啥流量。再加上 AI 的兴起，我的很多笔记类的博客文章反而更没有必要了。个人的一些感悟也有微信公账号可以承载。我决定弃用之前一直在使用的域名 kuring.me，但放弃域名我并不打算放弃自己的博客。&lt;/li&gt;
&lt;li&gt;Github Pages 的访问速度较慢，决定同时寻找其他解决方案来加快博客在国内的访问速度。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;迁移工作涉及：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;所有已发布文章&lt;/li&gt;
&lt;li&gt;草稿文章&lt;/li&gt;
&lt;li&gt;静态资源文件（图片、参考文档等）&lt;/li&gt;
&lt;li&gt;保持原有 URL 结构不变（SEO 友好）&lt;/li&gt;
&lt;li&gt;配置 GitHub Actions 自动部署到 GitHub Pages&lt;/li&gt;
&lt;li&gt;配置 Cloudflare Pages 部署（提升中国大陆访问速度）&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="迁移步骤"&gt;迁移步骤
&lt;/h2&gt;&lt;h3 id="1-需求分析和计划制定"&gt;1. 需求分析和计划制定
&lt;/h3&gt;&lt;p&gt;首先，我向 Cursor 描述了完整的迁移需求：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;span class="lnt"&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;我想将我的博客从 hexo 迁移到 hugo，请帮我完成整体的迁移。
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hexo 博客系统的信息：
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;1. 本地目录：~/github/kuring/kuring.github.io
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo 博客系统为全新创建：
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;1. 本地目录：~/github/kuring/hugo
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;2. 我期望将该项目同步到 github 的 kuring/hugo 的 main 分支上
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;3. 当 kuring/hugo 的 main 分支提交后自动构建博客，并使用 github actions发布到 kuring/kuring.github.io 的 gh-pages 分支。
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;Cursor 在 Plan Mode 下分析了需求，并提出了几个关键问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;主题选择（我选择了 Stack 主题）&lt;/li&gt;
&lt;li&gt;URL 格式保持策略（我选择保持原格式）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="2-项目初始化"&gt;2. 项目初始化
&lt;/h3&gt;&lt;p&gt;Cursor 自动执行了以下步骤：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 初始化 Hugo 项目&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo new site . --force
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 安装 Stack 主题&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git submodule add git@github.com:CaiJimmy/hugo-theme-stack.git themes/hugo-theme-stack
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="3-配置文件迁移"&gt;3. 配置文件迁移
&lt;/h3&gt;&lt;p&gt;Cursor 分析了 Hexo 的 &lt;code&gt;_config.yml&lt;/code&gt;，并创建了对应的 &lt;code&gt;hugo.yaml&lt;/code&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;站点基本信息（标题、语言等）&lt;/li&gt;
&lt;li&gt;URL 格式配置（保持 &lt;code&gt;/post/:title/&lt;/code&gt; 格式）&lt;/li&gt;
&lt;li&gt;Giscus 评论系统配置&lt;/li&gt;
&lt;li&gt;分页、标签、分类等设置&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="4-内容迁移"&gt;4. 内容迁移
&lt;/h3&gt;&lt;p&gt;这是最复杂的部分，Cursor 处理了：&lt;/p&gt;
&lt;h4 id="41-文章迁移"&gt;4.1 文章迁移
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;将所有 markdown 文件从 &lt;code&gt;source/_posts&lt;/code&gt; 复制到 &lt;code&gt;content/post&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;保持原有的目录结构（k8s/、ai/、knowledge-share/ 等）&lt;/li&gt;
&lt;li&gt;处理 front matter 格式转换：
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;url:&lt;/code&gt; → &lt;code&gt;slug:&lt;/code&gt;（Hugo 使用 slug 字段）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tags: value&lt;/code&gt; → &lt;code&gt;tags: [value]&lt;/code&gt;（转换为列表格式）&lt;/li&gt;
&lt;li&gt;统一 &lt;code&gt;Tags:&lt;/code&gt; 为 &lt;code&gt;tags:&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="42-草稿迁移"&gt;4.2 草稿迁移
&lt;/h4&gt;&lt;p&gt;原先博客中有很多草稿类型的文档，这些文档并不会真正发布，但需要一起迁移到 hugo 中。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;复制 &lt;code&gt;source/_drafts&lt;/code&gt; 到 &lt;code&gt;content/draft&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;为所有草稿文件添加 &lt;code&gt;draft: true&lt;/code&gt; 标记&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="43-静态资源迁移"&gt;4.3 静态资源迁移
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;source/images/&lt;/code&gt; → &lt;code&gt;static/images/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;source/ref/&lt;/code&gt; → &lt;code&gt;static/ref/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;source/draw.io/&lt;/code&gt; → &lt;code&gt;static/draw.io/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;source/CNAME&lt;/code&gt; → &lt;code&gt;static/CNAME&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="5-格式修复"&gt;5. 格式修复
&lt;/h3&gt;&lt;p&gt;迁移过程中发现了一些格式问题，Cursor 自动创建了 Python 脚本来批量修复：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 修复 tags 格式的脚本示例&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fix_front_matter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# 将 url: 转换为 slug:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# 将 tags: value 转换为 tags: [value]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# 统一 Tags: 为 tags:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;总共修复了 177 篇发布文章和 4 篇草稿的格式问题。&lt;/p&gt;
&lt;h3 id="6-github-actions-配置"&gt;6. GitHub Actions 配置
&lt;/h3&gt;&lt;p&gt;Cursor 创建了 &lt;code&gt;.github/workflows/deploy.yml&lt;/code&gt;，实现了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当 main 分支有 push 时自动触发&lt;/li&gt;
&lt;li&gt;使用 Hugo 构建静态站点&lt;/li&gt;
&lt;li&gt;跨仓库部署到 &lt;code&gt;kuring/kuring.github.io&lt;/code&gt; 的 gh-pages 分支&lt;/li&gt;
&lt;li&gt;使用 Personal Access Token 实现跨仓库权限&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="7-cloudflare-pages-配置"&gt;7. Cloudflare Pages 配置
&lt;/h3&gt;&lt;p&gt;由于 GitHub Pages 在中国大陆访问速度较慢，我决定同时配置 Cloudflare Pages 部署。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;在配置完成 Cloudflare Pages 后发现，在中国大陆完全无法访问，但在公司网络正好可以访问，而且访问速度还比较快。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这需要：&lt;/p&gt;
&lt;h4 id="71-多平台部署兼容性检查"&gt;7.1 多平台部署兼容性检查
&lt;/h4&gt;&lt;p&gt;首先，需要确保博客配置支持多平台部署：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;baseurl 配置&lt;/strong&gt;：设置为 &lt;code&gt;/&lt;/code&gt;，让 Hugo 根据实际访问域名自动生成 URL&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Giscus 评论系统&lt;/strong&gt;：使用 GitHub 仓库存储评论，两个平台共享同一套评论&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;硬编码 URL 修复&lt;/strong&gt;：将代码示例中的绝对 URL 改为相对路径&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="72-cloudflare-pages-配置步骤"&gt;7.2 Cloudflare Pages 配置步骤
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;连接 GitHub 仓库&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在 Cloudflare Dashboard 中创建 Pages 项目&lt;/li&gt;
&lt;li&gt;连接 &lt;code&gt;kuring/hugo&lt;/code&gt; 仓库&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;构建设置&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Framework preset: &lt;code&gt;Hugo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Build command: &lt;code&gt;git submodule update --init --recursive &amp;amp;&amp;amp; hugo --minify&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Build output directory: &lt;code&gt;public&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;设置 &lt;code&gt;HUGO_VERSION&lt;/code&gt; 环境变量为具体版本号（如 &lt;code&gt;0.153.3&lt;/code&gt;，不要使用 &lt;code&gt;latest&lt;/code&gt;，可以使用 &lt;code&gt;hugo version&lt;/code&gt; 命令查看本地使用 hugo 版本）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;自动部署&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Production branch: &lt;code&gt;main&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;启用 Preview deployments（每个 PR 自动创建预览）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="73-多平台部署的优势"&gt;7.3 多平台部署的优势
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;GitHub Pages&lt;/strong&gt;：&lt;code&gt;kuring.github.io&lt;/code&gt; - 作为主要部署平台&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cloudflare Pages&lt;/strong&gt;：&lt;code&gt;kuring.pages.dev&lt;/code&gt; - 提供更快的中国大陆访问速度&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;共享评论系统&lt;/strong&gt;：两个平台使用同一套 Giscus 评论，评论数据统一管理&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;URL 兼容性&lt;/strong&gt;：使用相对路径和正确的 baseurl 配置，确保两个平台都能正常工作&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="8-url-兼容性保证"&gt;8. URL 兼容性保证
&lt;/h3&gt;&lt;p&gt;这是迁移中最关键的部分。Cursor 确保了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 &lt;code&gt;permalinks.post: /post/:slug/&lt;/code&gt; 保持 URL 格式&lt;/li&gt;
&lt;li&gt;对于有 &lt;code&gt;url:&lt;/code&gt; 字段的文章，转换为 &lt;code&gt;slug:&lt;/code&gt; 字段&lt;/li&gt;
&lt;li&gt;所有文章的 URL 与 Hexo 版本完全一致&lt;/li&gt;
&lt;li&gt;配置 &lt;code&gt;baseurl: /&lt;/code&gt; 支持多平台部署（GitHub Pages 和 Cloudflare Pages）&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="结语"&gt;结语
&lt;/h2&gt;&lt;p&gt;使用 Cursor 较为完美的帮我完成了迁移工作。仅需要在本地执行 git push 命令即可完成博客的发布操作。&lt;/p&gt;
&lt;p&gt;如果在没有 AI 辅助的情况下，要完成博客系统的迁移我至少要花上一天的时间，而使用 cursor 前后差不多用了一个小时的时间就完成了，可以说效率大幅度的提升。&lt;/p&gt;
&lt;p&gt;美中不足的是博客系统的访问，需要尝试 kuring.github.io 或者 kuring.pages.dev 两个域名，但因为博客与我而言并非高频访问场景，且用户量极少，该问题暂且可以忍受。&lt;/p&gt;</description></item></channel></rss>