<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="title: knativeï¼ˆä¸ªäººç¬”è®°ï¼‰ tags:\nä¸ªäººç¬”è®° categories: [] date: 2022-04-01 21:16:00 author: ç†è®º å¾…è¡¥å……\nå®‰è£… ä¸‹è½½kindå‘½ä»¤ï¼Œä½†ä¸éœ€è¦åˆ›å»ºä¸€ä¸ªk8sé›†ç¾¤ã€‚\næ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä¸‹è½½kn äºŒè¿›åˆ¶æ–‡ä»¶\n1 2 3 4 5 6 7 wget https://github.com/knative/client/releases/download/knative-v1.2.0/kn-linux-amd64 mv kn-linux-amd64 /usr/local/bin/kn chmod +x /usr/local/bin/kn # è‡ªåŠ¨è¡¥å…¨ echo -e &#34;\\n# kn&#34; >> ~/.bash_profile echo 'source <(kn completion bash)' >>~/.bash_profile ä¸‹è½½quickstartäºŒè¿›åˆ¶æ–‡ä»¶\n"><title></title><link rel=canonical href=/post/knative/><link rel=stylesheet href=/scss/style.min.833d6eed45de56f48306bf57268d5b8cdfc8a60e8e7bdc99810464fcd033f7c6.css><meta property='og:title' content><meta property='og:description' content="title: knativeï¼ˆä¸ªäººç¬”è®°ï¼‰ tags:\nä¸ªäººç¬”è®° categories: [] date: 2022-04-01 21:16:00 author: ç†è®º å¾…è¡¥å……\nå®‰è£… ä¸‹è½½kindå‘½ä»¤ï¼Œä½†ä¸éœ€è¦åˆ›å»ºä¸€ä¸ªk8sé›†ç¾¤ã€‚\næ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä¸‹è½½kn äºŒè¿›åˆ¶æ–‡ä»¶\n1 2 3 4 5 6 7 wget https://github.com/knative/client/releases/download/knative-v1.2.0/kn-linux-amd64 mv kn-linux-amd64 /usr/local/bin/kn chmod +x /usr/local/bin/kn # è‡ªåŠ¨è¡¥å…¨ echo -e &#34;\\n# kn&#34; >> ~/.bash_profile echo 'source <(kn completion bash)' >>~/.bash_profile ä¸‹è½½quickstartäºŒè¿›åˆ¶æ–‡ä»¶\n"><meta property='og:url' content='/post/knative/'><meta property='og:site_name' content='404é¢‘é“'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta name=twitter:title content><meta name=twitter:description content="title: knativeï¼ˆä¸ªäººç¬”è®°ï¼‰ tags:\nä¸ªäººç¬”è®° categories: [] date: 2022-04-01 21:16:00 author: ç†è®º å¾…è¡¥å……\nå®‰è£… ä¸‹è½½kindå‘½ä»¤ï¼Œä½†ä¸éœ€è¦åˆ›å»ºä¸€ä¸ªk8sé›†ç¾¤ã€‚\næ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä¸‹è½½kn äºŒè¿›åˆ¶æ–‡ä»¶\n1 2 3 4 5 6 7 wget https://github.com/knative/client/releases/download/knative-v1.2.0/kn-linux-amd64 mv kn-linux-amd64 /usr/local/bin/kn chmod +x /usr/local/bin/kn # è‡ªåŠ¨è¡¥å…¨ echo -e &#34;\\n# kn&#34; >> ~/.bash_profile echo 'source <(kn completion bash)' >>~/.bash_profile ä¸‹è½½quickstartäºŒè¿›åˆ¶æ–‡ä»¶\n"><link rel="shortcut icon" href=/images/avatar.jpeg></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_16fb6c03614f4da2.jpeg width=300 height=280 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ“¡</span></figure><div class=site-meta><h1 class=site-name><a href=/>404é¢‘é“</a></h1><h2 class=site-description>å­¦ä¹ ç¬”è®°</h2></div></header><ol class=menu-social><li><a href=https://github.com/kuring target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äºæˆ‘</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#crd>CRD</a></li><li><a href=#å®è·µ>å®è·µ</a><ol><li><a href=#æœ€ç®€å•service>æœ€ç®€å•service</a></li><li><a href=#serviceçš„æµé‡åˆ‡åˆ†>serviceçš„æµé‡åˆ‡åˆ†</a></li></ol></li></ol><ol><li><a href=#å¿«é€Ÿå¼€å§‹>å¿«é€Ÿå¼€å§‹</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/post/knative/></a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 7 åˆ†é’Ÿ</time></div></footer></div></header><section class=article-content><p>title: knativeï¼ˆä¸ªäººç¬”è®°ï¼‰
tags:</p><ul><li>ä¸ªäººç¬”è®°
categories: []
date: 2022-04-01 21:16:00
author:</li></ul><hr><h1 id=ç†è®º>ç†è®º</h1><p>å¾…è¡¥å……</p><h1 id=å®‰è£…>å®‰è£…</h1><p>ä¸‹è½½kindå‘½ä»¤ï¼Œä½†ä¸éœ€è¦åˆ›å»ºä¸€ä¸ªk8sé›†ç¾¤ã€‚</p><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä¸‹è½½kn äºŒè¿›åˆ¶æ–‡ä»¶</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>wget https://github.com/knative/client/releases/download/knative-v1.2.0/kn-linux-amd64</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>mv kn-linux-amd64 /usr/local/bin/kn</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>chmod +x /usr/local/bin/kn </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># è‡ªåŠ¨è¡¥å…¨</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>echo -e &#34;\n# kn&#34; &gt;&gt; ~/.bash_profile</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>echo &#39;source &lt;(kn completion bash)&#39; &gt;&gt;~/.bash_profile</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>ä¸‹è½½quickstartäºŒè¿›åˆ¶æ–‡ä»¶</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>wget https://github.com/knative-sandbox/kn-plugin-quickstart/releases/download/knative-v1.2.0/kn-quickstart-linux-amd64</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>mv kn-quickstart-linux-amd64 /usr/local/bin/kn-quickstart</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>chmod +x /usr/local/bin/kn-quickstart </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c># å¦‚ä¸‹ä¸¤æ¡å‘½ä»¤å¯ä»¥å¾—åˆ°ç›¸åŒçš„è¾“å‡ºç»“æœ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>kn quickstart --help</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>kn-quickstart --help</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>æ‰§è¡Œ kn quickstart kind å‘½ä»¤å³å¯åˆ›å»ºå‡ºä¸€ä¸ªknativeçš„k8sé›†ç¾¤ã€‚</p><h1 id=knative-serving>knative serving</h1><p>servingçš„æ ¸å¿ƒåŠŸèƒ½ä¸ºæä¾›å¼¹æ€§æ‰©ç¼©å®¹èƒ½åŠ›ã€‚</p><h2 id=crd>CRD</h2><p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2022/png/220839/1647100343983-06e5baa7-13fb-4c21-a2d3-ce5dc7a1a50c.png#clientId=uf314a495-0864-4&amp;from=paste&amp;height=424&amp;id=ud95a644c&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=424&amp;originWidth=540&amp;originalType=binary&amp;ratio=1&amp;size=23832&amp;status=done&amp;style=none&amp;taskId=u80bb136a-1106-43dc-8c93-f62a6fbbe2a&amp;width=540" loading=lazy alt=image.png>
Serviceï¼šç”¨æ¥ç®¡ç†æ•´ä¸ªåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€‚
Routeï¼šç”¨æ¥å°†æµé‡åˆ†å‘åˆ°ä¸åŒçš„Revision
Configurationï¼š
Revisionï¼š</p><p>kpaåŠŸèƒ½</p><h2 id=å®è·µ>å®è·µ</h2><h3 id=æœ€ç®€å•service>æœ€ç®€å•service</h3><p>åˆ›å»ºhello.yamlæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼Œå¹¶æ‰§è¡Œ kubectl apply -f hello.yamlã€‚å…¶ä¸­serviceçš„åå­—ä¸ºhelloï¼Œrevisionçš„åå­—ä¸ºworldã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>serving.knative.dev/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># This is the name of our new &#34;Revision,&#34; it must follow the convention {service-name}-{revision-name}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>gcr.io/knative-samples/helloworld-go</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>TARGET</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;World&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>é€šè¿‡knå‘½ä»¤å¯ä»¥çœ‹åˆ°åˆ›å»ºäº†ä¸€ä¸ªservice helloï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªå¯ä»¥è®¿é—®çš„urlåœ°å€ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># kn service list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>NAME    URL                                       LATEST        AGE    CONDITIONS   READY   REASON</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello   http://hello.default.127.0.0.1.sslip.io   hello-world   154m   3 OK / 3     True  </span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>knativeæŠ½è±¡äº†Revisionæ¥æ ‡è¯†è¯¥serviceå¯¹åº”çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨kubectlå‘½ä»¤ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨knå‘½ä»¤æ¥æŸ¥çœ‹revisionä¿¡æ¯ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>$ k get revisions.serving.knative.dev </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>NAME          CONFIG NAME   K8S SERVICE NAME   GENERATION   READY   REASON   ACTUAL REPLICAS   DESIRED REPLICAS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world   hello                            1            True             0                 0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>$ kn revision list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>NAME          SERVICE   TRAFFIC   TAGS   GENERATION   AGE     CONDITIONS   READY   REASON</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world   hello     100%             1            6m33s   3 OK / 4     True  </span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>åœ¨å®¿ä¸»æœºä¸Šæ‰§è¡Œ curl <a class=link href=http://hello.default.127.0.0.1.sslip.io target=_blank rel=noopener>http://hello.default.127.0.0.1.sslip.io</a> æ¥å£è®¿é—®åˆšæ‰åˆ›å»ºçš„serviceã€‚è¿™é‡Œæ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯ä¸ºä»€ä¹ˆåŸŸåå¯ä»¥åœ¨å®¿ä¸»æœºä¸Šè§£æï¼Œè¯¥åŸŸåå®é™…ä¸Šæ˜¯é€šè¿‡å…¬ç½‘æ¥è§£æçš„ï¼ŒåŸŸåæœåŠ¡å™¨sslip.ioè´Ÿè´£è¯¥åŸŸåçš„è§£æã€‚
æœ¬æœºçš„127.0.0.1çš„80ç«¯å£å®é™…æ˜¯æŒ‡å‘çš„æ˜¯kindå®¹å™¨çš„31080ç«¯å£ï¼Œè€Œ31080ä¸ºkourier-ingresså¯¹å¤–æš´éœ²çš„æœåŠ¡ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># kubectl  get svc -A | grep 31080</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>kourier-system     kourier-ingress   NodePort       10.96.252.144   &lt;none&gt;    80:31080/TCP     3h16m</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>kourier-ingressä¸ºknativeä½¿ç”¨çš„ingressæœåŠ¡ï¼Œè¯¥ingresså¹¶ék8såŸç”Ÿçš„ingresså¯¹è±¡ï¼Œè€Œæ˜¯è‡ªå®šä¹‰çš„ingress networking.internal.knative.dev/v1alpha1ã€‚service helloåœ¨åˆ›å»ºçš„æ—¶å€™ä¼šåŒæ­¥åˆ›å»ºä¸€ä¸ªingresså¯¹è±¡ã€‚åœ¨è¯¥ingresså¯¹è±¡ä¸­å¯ä»¥çœ‹åˆ°åˆšæ‰è®¿é—®çš„åŸŸåhello.default.127.0.0.1.sslip.ioï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°è¯¥ingresså°†åŸŸåæŒ‡å‘åˆ°äº†k8sçš„service hello-world.defaultã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>kubectl  get  ingresses.networking.internal.knative.dev hello -o yaml </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.internal.knative.dev/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networking.internal.knative.dev/rollout</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{&#34;configurations&#34;:[{&#34;configurationName&#34;:&#34;hello&#34;,&#34;percent&#34;:100,&#34;revisions&#34;:[{&#34;revisionName&#34;:&#34;hello-world&#34;,&#34;percent&#34;:100}],&#34;stepParams&#34;:{}}]}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networking.knative.dev/ingress.class</span><span class=p>:</span><span class=w> </span><span class=l>kourier.ingress.networking.knative.dev</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/creator</span><span class=p>:</span><span class=w> </span><span class=l>kubernetes-admin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/lastModifier</span><span class=p>:</span><span class=w> </span><span class=l>kubernetes-admin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>finalizers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>ingresses.networking.internal.knative.dev</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>generation</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/route</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/routeNamespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/service</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ownerReferences</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>serving.knative.dev/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>blockOwnerDeletion</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>controller</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Route</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>uid</span><span class=p>:</span><span class=w> </span><span class=l>4c58e77b-4871-42cc-bfa0-aa9fda9646ed</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>httpOption</span><span class=p>:</span><span class=w> </span><span class=l>Enabled</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>hello.default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>hello.default.svc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>hello.default.svc.cluster.local</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>splits</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>appendHeaders</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>Knative-Serving-Namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>Knative-Serving-Revision</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>percent</span><span class=p>:</span><span class=w> </span><span class=m>100</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>serviceName</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>serviceNamespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>servicePort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>visibility</span><span class=p>:</span><span class=w> </span><span class=l>ClusterLocal</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>hosts</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>hello.default.127.0.0.1.sslip.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>splits</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>appendHeaders</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>Knative-Serving-Namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>Knative-Serving-Revision</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>percent</span><span class=p>:</span><span class=w> </span><span class=m>100</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>serviceName</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>serviceNamespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>servicePort</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>visibility</span><span class=p>:</span><span class=w> </span><span class=l>ExternalIP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>status</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>conditions</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>lastTransitionTime</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2022-03-11T12:47:26Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;True&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>LoadBalancerReady</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>lastTransitionTime</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2022-03-11T12:47:26Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;True&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>NetworkConfigured</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>lastTransitionTime</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2022-03-11T12:47:26Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;True&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Ready</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>observedGeneration</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>privateLoadBalancer</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ingress</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>domainInternal</span><span class=p>:</span><span class=w> </span><span class=l>kourier-internal.kourier-system.svc.cluster.local</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>publicLoadBalancer</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ingress</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>domainInternal</span><span class=p>:</span><span class=w> </span><span class=l>kourier.kourier-system.svc.cluster.local</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>åœ¨default namespaceä¸‹å¯ä»¥çœ‹åˆ°æœ‰ä¸‰ä¸ªserviceï¼Œå…¶ä¸­hello-worldçš„ingressè½¬å‘çš„serviceã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># k get svc | grep hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello                                   ExternalName   &lt;none&gt;         kourier-internal.kourier-system.svc.cluster.local   80/TCP                                       155m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world                             ClusterIP      10.96.58.149   &lt;none&gt;                                              80/TCP                                       155m</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world-private                     ClusterIP      10.96.54.163   &lt;none&gt;                                              80/TCP,9090/TCP,9091/TCP,8022/TCP,8012/TCP   155m</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>é€šè¿‡æŸ¥çœ‹è¯¥serivceçš„yamlï¼Œå¹¶æœªå®šä¹‰serivceçš„selectorã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>autoscaling.knative.dev/class</span><span class=p>:</span><span class=w> </span><span class=l>kpa.autoscaling.knative.dev</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/creator</span><span class=p>:</span><span class=w> </span><span class=l>kubernetes-admin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networking.internal.knative.dev/serverlessservice</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networking.internal.knative.dev/serviceType</span><span class=p>:</span><span class=w> </span><span class=l>Public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/configuration</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/configurationGeneration</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/configurationUID</span><span class=p>:</span><span class=w> </span><span class=l>13138d0f-ee5f-4631-94a5-6928546e504c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/revision</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/revisionUID</span><span class=p>:</span><span class=w> </span><span class=l>f3aaae74-6b79-4785-b60d-5607c0ab3bcf</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/service</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/serviceUID</span><span class=p>:</span><span class=w> </span><span class=m>79907029</span>-<span class=l>32df-4f21-b14b-ed7d24e1a10e</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ownerReferences</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.internal.knative.dev/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>blockOwnerDeletion</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>controller</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ServerlessService</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>uid</span><span class=p>:</span><span class=w> </span><span class=l>3a6326c5-32b0-4074-bec2-4d3eed293b71</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>clusterIP</span><span class=p>:</span><span class=w> </span><span class=m>10.96.58.149</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>clusterIPs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=m>10.96.58.149</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>internalTrafficPolicy</span><span class=p>:</span><span class=w> </span><span class=l>Cluster</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ipFamilies</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>IPv4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ipFamilyPolicy</span><span class=p>:</span><span class=w> </span><span class=l>SingleStack</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>TCP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class=m>8012</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>sessionAffinity</span><span class=p>:</span><span class=w> </span><span class=l>None</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>ClusterIP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>status</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>loadBalancer</span><span class=p>:</span><span class=w> </span>{}<span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>æŸ¥çœ‹Serviceå¯¹åº”çš„Endpointå¯¹è±¡ï¼Œå¯ä»¥çœ‹åˆ°Endpointå¯¹è±¡å®é™…ä¸ŠæŒ‡å‘åˆ°äº†knative-servingä¸‹çš„pod activator-85bd4ddcbb-6ms7nã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Endpoints</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>autoscaling.knative.dev/class</span><span class=p>:</span><span class=w> </span><span class=l>kpa.autoscaling.knative.dev</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/creator</span><span class=p>:</span><span class=w> </span><span class=l>kubernetes-admin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networking.internal.knative.dev/serverlessservice</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networking.internal.knative.dev/serviceType</span><span class=p>:</span><span class=w> </span><span class=l>Public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/configuration</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/configurationGeneration</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/configurationUID</span><span class=p>:</span><span class=w> </span><span class=l>13138d0f-ee5f-4631-94a5-6928546e504c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/revision</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/revisionUID</span><span class=p>:</span><span class=w> </span><span class=l>f3aaae74-6b79-4785-b60d-5607c0ab3bcf</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/service</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>serving.knative.dev/serviceUID</span><span class=p>:</span><span class=w> </span><span class=m>79907029</span>-<span class=l>32df-4f21-b14b-ed7d24e1a10e</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ownerReferences</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.internal.knative.dev/v1alpha1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>blockOwnerDeletion</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>controller</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ServerlessService</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>uid</span><span class=p>:</span><span class=w> </span><span class=l>3a6326c5-32b0-4074-bec2-4d3eed293b71</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>subsets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl>- <span class=nt>addresses</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>ip</span><span class=p>:</span><span class=w> </span><span class=m>10.244.0.5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nodeName</span><span class=p>:</span><span class=w> </span><span class=l>knative-control-plane</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>targetRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Pod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>activator-85bd4ddcbb-6ms7n</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>knative-serving</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>resourceVersion</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;809&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uid</span><span class=p>:</span><span class=w> </span><span class=l>df916ac6-3161-4bc6-bf8c-47bb7c83cc4a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>http</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>8012</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>TCP</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>è¿›ä¸€æ­¥æŸ¥çœ‹knative-servingä¸‹æœ‰ä¸€ä¸ªknativeçš„ç»„ä»¶activatorã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>k get deploy -n knative-serving activator </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>NAME        READY   UP-TO-DATE   AVAILABLE   AGE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>activator   1/1     1            1           3h35m</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä¸€ä¸‹ kubectl get pod -l serving.knative.dev/service=hello -wï¼Œé‡æ–°æ‰§è¡Œ curl <a class=link href=http://hello.default.127.0.0.1.sslip.io target=_blank rel=noopener>http://hello.default.127.0.0.1.sslip.io</a> å‘èµ·æ–°çš„è¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°ä¼šæœ‰podäº§ç”Ÿï¼Œä¸”podä¸ºé€šè¿‡deploymentæ‹‰èµ·ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>$ kubectl get pod -l serving.knative.dev/service=hello -w</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world-deployment-7ff4bdb7fd-rqg96   0/2     Pending       0          0s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world-deployment-7ff4bdb7fd-rqg96   0/2     ContainerCreating   0          0s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world-deployment-7ff4bdb7fd-rqg96   1/2     Running             0          1s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world-deployment-7ff4bdb7fd-rqg96   2/2     Running             0          1s</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>è¿‡ä¸€æ®µæ—¶é—´æ²¡æœ‰æ–°çš„è¯·æ±‚åï¼Œpodä¼šè‡ªåŠ¨è¢«åˆ é™¤ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°deploymentçš„å‰¯æœ¬æ•°ç¼©æˆ0ã€‚è¯¥namespaceä¸‹å¹¶æ²¡æœ‰å¯¹åº”çš„hpaäº§ç”Ÿï¼Œè¯´æ˜deploymentå‰¯æœ¬æ•°çš„è°ƒæ•´å¹¶éä½¿ç”¨k8såŸç”Ÿçš„hpaæœºåˆ¶ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>hello-world-deployment-7ff4bdb7fd-rqg96   2/2     Terminating         0          63s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world-deployment-7ff4bdb7fd-rqg96   0/2     Terminating         0          93s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>$ k get deployments.apps </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>NAME                     READY   UP-TO-DATE   AVAILABLE   AGE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world-deployment   0/0     0            0           21h</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=serviceçš„æµé‡åˆ‡åˆ†>serviceçš„æµé‡åˆ‡åˆ†</h3><p>é‡æ–°æäº¤å¦‚ä¸‹çš„yamlæ–‡ä»¶ï¼Œå°†serviceå¯¹åº”çš„revisionæ›´æ–°ä¸ºknativeã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>serving.knative.dev/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-knative</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>gcr.io/knative-samples/helloworld-go</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>TARGET</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Knative&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>é‡æ–°æŸ¥çœ‹revisionï¼Œå¯ä»¥çœ‹åˆ°revisionå·²ç»å˜æ›´ä¸ºäº†knativeï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°è€çš„revision worldå¹¶æ²¡æœ‰è¢«åˆ é™¤ï¼Œåªæ˜¯æ²¡æœ‰äº†æµé‡è½¬å‘ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>$ kn revision list</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>NAME            SERVICE   TRAFFIC   TAGS   GENERATION   AGE   CONDITIONS   READY   REASON</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-knative   hello     100%             2            49s   4 OK / 4     True    </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world     hello                      1            10m   3 OK / 4     True    </span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>é‡æ–°applyæ–°çš„Serviceï¼Œå°†æµé‡åˆ‡åˆ†ä¸ºhello-worldå’Œhello-knativeä¸¤ä»½ï¼Œé‡æ–°æ‰§è¡Œcurlè¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°ç»“æœä¼šéšæœºè¿”å›ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>serving.knative.dev/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-knative</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>gcr.io/knative-samples/helloworld-go</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>TARGET</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Knative&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>traffic</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>latestRevision</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>percent</span><span class=p>:</span><span class=w> </span><span class=m>50</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>revisionName</span><span class=p>:</span><span class=w> </span><span class=l>hello-world</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>percent</span><span class=p>:</span><span class=w> </span><span class=m>50</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>æŸ¥çœ‹revisionçš„ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°æµé‡å·²ç»æ˜¯50%çš„åˆ‡åˆ†äº†ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># kn revision list              </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>NAME            SERVICE   TRAFFIC   TAGS   GENERATION   AGE   CONDITIONS   READY   REASON</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-knative   hello     50%              2            11m   3 OK / 4     True    </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=l>hello-world     hello     50%              1            21m   3 OK / 4     True    </span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h1 id=knative-eventing>knative eventing</h1><p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2022/png/220839/1647084177641-8d961050-347c-4f45-8a9c-dfa3b0d05dce.png#clientId=uf314a495-0864-4&amp;from=paste&amp;height=471&amp;id=ud6d39aae&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=471&amp;originWidth=1288&amp;originalType=binary&amp;ratio=1&amp;size=46263&amp;status=done&amp;style=none&amp;taskId=ub29b3700-7520-4a9a-bc3f-6118fd56695&amp;width=1288" loading=lazy alt=image.png>
Sourceï¼šk8sçš„CRå¯¹è±¡ï¼Œäº§ç”ŸEvent
Brokerï¼šç”¨æ¥åˆ†å‘Event
Triggerï¼šEventè§¦å‘å™¨
Sinkï¼šEventè¾“å‡ºç»“æœ</p><p>å…¶ä¸­åŒ…å«ä¸šåŠ¡é€»è¾‘çš„å¯ç¼–ç¨‹çš„éƒ¨åˆ†åœ¨äºTriggeréƒ¨åˆ†ï¼Œç”±äºtriggerå®é™…ä¸Šæ˜¯æ— çŠ¶æ€çš„æœåŠ¡ï¼Œå¯¹äºä¸€äº›æœ‰çŠ¶æ€çš„æ¶ˆæ¯knativeå¾ˆéš¾æ»¡è¶³ã€‚æ¯”å¦‚åŒä¸€ç±»å‹çš„ç‰¹å®šå­—æ®µçš„eventè½¬å‘åˆ°ç‰¹å®šçš„triggerä¸Šï¼Œbrokerå®é™…ä¸Šä¸å…·å¤‡å¯ç¼–ç¨‹æ€§ï¼Œå› æ­¤æ— æ³•å®Œæˆã€‚</p><p>kn quickstart å‘½ä»¤ä¼šå®‰è£…ä¸€ä¸ªbrokeråˆ°ç¯å¢ƒä¸­</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>$ k get brokers.eventing.knative.dev example-broker -o yaml </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>eventing.knative.dev/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Broker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>eventing.knative.dev/broker.class</span><span class=p>:</span><span class=w> </span><span class=l>MTChannelBasedBroker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>eventing.knative.dev/creator</span><span class=p>:</span><span class=w> </span><span class=l>kubernetes-admin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>eventing.knative.dev/lastModifier</span><span class=p>:</span><span class=w> </span><span class=l>kubernetes-admin</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>example-broker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>ConfigMap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>config-br-default-channel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>knative-eventing</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>delivery</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>backoffDelay</span><span class=p>:</span><span class=w> </span><span class=l>PT0.2S</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>backoffPolicy</span><span class=p>:</span><span class=w> </span><span class=l>exponential</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>retry</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>status</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>address</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>http://broker-ingress.knative-eventing.svc.cluster.local/default/example-broker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>knative.dev/channelAPIVersion</span><span class=p>:</span><span class=w> </span><span class=l>messaging.knative.dev/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>knative.dev/channelAddress</span><span class=p>:</span><span class=w> </span><span class=l>http://example-broker-kne-trigger-kn-channel.default.svc.cluster.local</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>knative.dev/channelKind</span><span class=p>:</span><span class=w> </span><span class=l>InMemoryChannel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>knative.dev/channelName</span><span class=p>:</span><span class=w> </span><span class=l>example-broker-kne-trigger</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>conditions</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>lastTransitionTime</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2022-03-11T12:32:43Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;True&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Addressable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>lastTransitionTime</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2022-03-11T12:32:43Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=kc>No</span><span class=w> </span><span class=l>dead letter sink is configured.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>reason</span><span class=p>:</span><span class=w> </span><span class=l>DeadLetterSinkNotConfigured</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class=l>Info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;True&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>DeadLetterSinkResolved</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>lastTransitionTime</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2022-03-11T12:32:43Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;True&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>FilterReady</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>lastTransitionTime</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2022-03-11T12:32:43Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;True&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>IngressReady</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>lastTransitionTime</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2022-03-11T12:32:43Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;True&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>Ready</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>lastTransitionTime</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;2022-03-11T12:32:43Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>status</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;True&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>TriggerChannelReady</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>observedGeneration</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=å¿«é€Ÿå¼€å§‹>å¿«é€Ÿå¼€å§‹</h2><p>åˆ›å»ºå¦‚ä¸‹çš„Serviceï¼Œè¯¥serviceé€šè¿‡ç¯å¢ƒå˜é‡ BROKER_URL ä½œä¸ºbrokeråœ°å€ï¼Œå¯ä»¥çœ‹åˆ°å…¶åœ°å€ä¸º quickstartå·¥å…·é»˜è®¤å®‰è£…çš„example-brokerã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>serving.knative.dev/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>cloudevents-player</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>autoscaling.knative.dev/min-scale</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>ruromero/cloudevents-player:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>BROKER_URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=l>http://broker-ingress.knative-eventing.svc.cluster.local/default/example-broker</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>è®¿é—®serviceé¡µé¢ <a class=link href=http://cloudevents-player.default.127.0.0.1.sslip.io/ target=_blank rel=noopener>http://cloudevents-player.default.127.0.0.1.sslip.io/</a> å¯ä»¥åœ¨ç•Œé¢ä¸Šåˆ›å»ºEventåï¼Œäº§ç”Ÿå¦‚ä¸‹çš„Eventå†…å®¹ï¼Œæ ¼å¼å®Œå…¨éµå¾ªç¤¾åŒºçš„CloudEventè§„èŒƒã€‚ç‚¹å‡»å‘é€ï¼Œå³å¯ä»¥å°†æ¶ˆæ¯å‘é€ç»™brokerï¼Œä½†ç”±äºborkeræ²¡æœ‰é…ç½®ä»»ä½•çš„Triggerï¼Œæ¶ˆæ¯åœ¨å‘é€åˆ°brokeråä¼šè¢«ç›´æ¥ä¸¢å¼ƒã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;root&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;attributes&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;datacontenttype&#34;</span><span class=p>:</span> <span class=s2>&#34;application/json&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;id&#34;</span><span class=p>:</span> <span class=s2>&#34;123&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;mediaType&#34;</span><span class=p>:</span> <span class=s2>&#34;application/json&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;source&#34;</span><span class=p>:</span> <span class=s2>&#34;manual&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;specversion&#34;</span><span class=p>:</span> <span class=s2>&#34;1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;test-type&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;Hello CloudEvents!&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;extensions&#34;</span><span class=p>:</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘ä»¬ç»§ç»­æ¥ç»™brokerå¢åŠ è§¦å‘å™¨ï¼Œåˆ›å»ºå¦‚ä¸‹çš„yamlã€‚è¯¥è§¦å‘å™¨å®šä¹‰äº†brokerä¸ºexample-brokerï¼Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=err>apiVersion:</span> <span class=err>eventing.knative.dev/v</span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=err>kind:</span> <span class=err>Trigger</span>
</span></span><span class=line><span class=cl><span class=err>metadata:</span>
</span></span><span class=line><span class=cl>  <span class=err>name:</span> <span class=err>cloudevents-trigger</span>
</span></span><span class=line><span class=cl>  <span class=err>annotations:</span>
</span></span><span class=line><span class=cl>    <span class=err>knative-eventing-injection:</span> <span class=err>enabled</span>
</span></span><span class=line><span class=cl><span class=err>spec:</span>
</span></span><span class=line><span class=cl>  <span class=err>broker:</span> <span class=err>example-broker</span>
</span></span><span class=line><span class=cl>  <span class=err>subscriber:</span>
</span></span><span class=line><span class=cl>    <span class=err>ref:</span>
</span></span><span class=line><span class=cl>      <span class=err>apiVersion:</span> <span class=err>serving.knative.dev/v</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>      <span class=err>kind:</span> <span class=err>Service</span>
</span></span><span class=line><span class=cl>      <span class=err>name:</span> <span class=err>cloudevents-player</span>
</span></span></code></pre></td></tr></table></div></div><p>é‡æ–°åœ¨é¡µé¢ä¸Šå‘é€eventï¼Œå¯ä»¥çœ‹åˆ°æ¶ˆæ¯çš„çŠ¶æ€ä¸ºæ¥æ”¶ã€‚</p><h1 id=å‚è€ƒ>å‚è€ƒ</h1><ul><li><a class=link href=https://mp.weixin.qq.com/s/4HijmNvhQAXyEHSBlMHyVw target=_blank rel=noopener>å³å­¦å³ä¼šServerless</a></li></ul></section><footer class=article-footer></footer></article><script src=https://giscus.app/client.js data-repo=kuring/kuring.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkyODM4MzQ0NTk=" data-category=Announcements data-category-id=DIC_kwDOEOr4W84CdeTU data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=light data-lang=zh-CN data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark")}})()</script><footer class=site-footer><section class=copyright>&copy;
2013 -
2025 kuring</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>